!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("dlv")):"function"==typeof define&&define.amd?define(["dlv"],e):(t=t||self).reactotronUnistore=e(t.dlv)}(this,function(t){function e(e=[],n={},o=[]){if(0===e.length)return o;for(let a=0,s=e.length;a<s;a++){const s=e[a],r=s.endsWith(".*")?s.replace(".*",""):s,i=["","*",".*","root","root.*"].indexOf(s)>-1?n:t(n,r);i&&o.push({path:s,value:i})}return o}return t=t&&t.hasOwnProperty("default")?t.default:t,t=>n=>{const o=function(t,n){let o=[];const a=t.action((t,e)=>e);return{"state.values.subscribe":({payload:a})=>{if(o=a.paths,a.paths){const a=e(o,t.getState());n.stateValuesChange(a)}t.subscribe((t,a)=>{const s=a&&a.name||"Reactotron/DISPATCH",r=e(o,t);(function(t,e){try{return e?Promise.resolve(e()).then(function(e){const n=Object.keys(e);let o={};for(let e=0;e<n.length;e++){const a=n[e];o[a]=t[a]}return o}):Promise.resolve(!1)}catch(t){return Promise.reject(t)}})(t,a).then(t=>{t?n.stateActionComplete(s,t):n.display({name:"UNISTORE",preview:"store.setState",value:"Warning: The values of the action cannot be determined when store.setState is used to update state within an action. Think about returning an object instead.",important:!0}),n.stateValuesChange(r)})})},"state.action.dispatch":({payload:e})=>{t.setState(e.action)},"state.backup.request":()=>{const e=t.getState();n.stateBackupResponse(e)},"state.restore.request":({payload:t})=>{a(t.state)}}}(t,n);return{onCommand:t=>{const e=o[t.type];e&&e(t)}}}});
//# sourceMappingURL=index.umd.js.map
