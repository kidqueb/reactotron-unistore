var e,t=(e=require("dlv"))&&"object"==typeof e&&"default"in e?e.default:e,n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(e,n,a=[]){for(let r=0,i=e.length;r<i;r++){const i=e[r],l=i.endsWith(".*")?i.replace(".*",""):i,o=t(n,l);a.push({path:i,value:o})}return a}!function(e,t){!function(t,a){var r=function(e){var t=["N","E","A","D"];function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,n){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function l(e,t){l.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var a=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,a),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function h(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function f(e){var t=0,n=u(e);if("array"===n)return e.forEach(function(e){t+=f(e)}),t+h("[type: array, hash: "+t+"]");if("object"===n){for(var a in e)if(e.hasOwnProperty(a)){var r="[ type: object, key: "+a+", value hash: "+f(e[a])+"]";t+=h(r)}return t}return t+h("[ type: "+n+" ; value: "+e+"]")}function c(e,t,n,a,s,h,p,d){n=n||[],p=p||[];var b=(s=s||[]).slice(0);if(null!=h){if(a){if("function"==typeof a&&a(b,h))return;if("object"==typeof a){if(a.prefilter&&a.prefilter(b,h))return;if(a.normalize){var v=a.normalize(b,h,e,t);v&&(e=v[0],t=v[1])}}}b.push(h)}"regexp"===u(e)&&"regexp"===u(t)&&(e=e.toString(),t=t.toString());var g,y,m,k,w=typeof e,j=typeof t,O="undefined"!==w||p&&p.length>0&&p[p.length-1].lhs&&Object.getOwnPropertyDescriptor(p[p.length-1].lhs,h),D="undefined"!==j||p&&p.length>0&&p[p.length-1].rhs&&Object.getOwnPropertyDescriptor(p[p.length-1].rhs,h);if(!O&&D)n.push(new i(b,t));else if(!D&&O)n.push(new l(b,e));else if(u(e)!==u(t))n.push(new r(b,e,t));else if("date"===u(e)&&e-t!=0)n.push(new r(b,e,t));else if("object"===w&&null!==e&&null!==t){for(g=p.length-1;g>-1;--g)if(p[g].lhs===e){k=!0;break}if(k)e!==t&&n.push(new r(b,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){for(d&&(e.sort(function(e,t){return f(e)-f(t)}),t.sort(function(e,t){return f(e)-f(t)})),g=t.length-1,y=e.length-1;g>y;)n.push(new o(b,g,new i(void 0,t[g--])));for(;y>g;)n.push(new o(b,y,new l(void 0,e[y--])));for(;g>=0;--g)c(e[g],t[g],n,a,b,g,p,d)}else{var x=Object.keys(e),A=Object.keys(t);for(g=0;g<x.length;++g)(k=A.indexOf(m=x[g]))>=0?(c(e[m],t[m],n,a,b,m,p,d),A[k]=null):c(e[m],void 0,n,a,b,m,p,d);for(g=0;g<A.length;++g)(m=A[g])&&c(void 0,t[m],n,a,b,m,p,d)}p.length=p.length-1}}else e!==t&&("number"===w&&isNaN(e)&&isNaN(t)||n.push(new r(b,e,t)))}function p(e,t,n,a,r){var i=[];if(c(e,t,i,a,null,null,null,r),n)for(var l=0;l<i.length;++l)n(i[l]);return i}function d(e,t,n,a){var r=p(e,t,a?function(e){e&&a.push(e)}:void 0,n);return a||(r.length?r:void 0)}function b(e,n,a){if(void 0===a&&n&&~t.indexOf(n.kind)&&(a=n),e&&a&&a.kind){for(var r=e,i=-1,l=a.path?a.path.length-1:0;++i<l;)void 0===r[a.path[i]]&&(r[a.path[i]]=void 0!==a.path[i+1]&&"number"==typeof a.path[i+1]?[]:{}),r=r[a.path[i]];switch(a.kind){case"A":a.path&&void 0===r[a.path[i]]&&(r[a.path[i]]=[]),function e(t,n,a){if(a.path&&a.path.length){var r,i=t[n],l=a.path.length-1;for(r=0;r<l;r++)i=i[a.path[r]];switch(a.kind){case"A":e(i[a.path[r]],a.index,a.item);break;case"D":delete i[a.path[r]];break;case"E":case"N":i[a.path[r]]=a.rhs}}else switch(a.kind){case"A":e(t[n],a.index,a.item);break;case"D":t=s(t,n);break;case"E":case"N":t[n]=a.rhs}return t}(a.path?r[a.path[i]]:r,a.index,a.item);break;case"D":delete r[a.path[i]];break;case"E":case"N":r[a.path[i]]=a.rhs}}}return n(r,a),n(i,a),n(l,a),n(o,a),Object.defineProperties(d,{diff:{value:d,enumerable:!0},orderIndependentDiff:{value:function(e,t,n,a){var r=p(e,t,a?function(e){e&&a.push(e)}:void 0,n,!0);return a||(r.length?r:void 0)},enumerable:!0},observableDiff:{value:p,enumerable:!0},orderIndependentObservableDiff:{value:function(e,t,n,a,r,i,l){return c(e,t,n,a,r,i,l,!0)},enumerable:!0},orderIndepHash:{value:f,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&p(e,t,function(a){n&&!n(e,t,a)||b(e,t,a)})},enumerable:!0},applyChange:{value:b,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var a,r,i=e;for(r=n.path.length-1,a=0;a<r;a++)void 0===i[n.path[a]]&&(i[n.path[a]]={}),i=i[n.path[a]];switch(n.kind){case"A":!function e(t,n,a){if(a.path&&a.path.length){var r,i=t[n],l=a.path.length-1;for(r=0;r<l;r++)i=i[a.path[r]];switch(a.kind){case"A":e(i[a.path[r]],a.index,a.item);break;case"D":case"E":i[a.path[r]]=a.lhs;break;case"N":delete i[a.path[r]]}}else switch(a.kind){case"A":e(t[n],a.index,a.item);break;case"D":case"E":t[n]=a.lhs;break;case"N":t=s(t,n)}return t}(i[n.path[a]],n.index,n.item);break;case"D":case"E":i[n.path[a]]=n.lhs;break;case"N":delete i[n.path[a]]}}},enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof $conflict},enumerable:!0}}),d.DeepDiff=d,e&&(e.DeepDiff=d),d}(n);e.exports=r}()}({exports:{}}),module.exports=e=>t=>{const n=function(e,t){const n=e.action((e,t)=>t);return{"state.values.subscribe":({payload:n})=>{if(n.paths){const r=a(n.paths,e.getState());t.stateValuesChange(r)}e.subscribe(function(e,r){const i=r&&r.name||"Reactotron/DISPATCH",l=a(n.paths,e);t.stateActionComplete(i,e),t.stateValuesChange(l)})},"state.action.dispatch":({payload:t})=>{e.setState(t.action)},"state.backup.request":()=>{const n=e.getState();t.stateBackupResponse(n)},"state.restore.request":({payload:e})=>{n(e.state)}}}(e,t);return{onCommand:e=>{const t=n[e.type];t&&t(e)}}};
//# sourceMappingURL=index.js.map
